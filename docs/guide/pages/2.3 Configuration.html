<html>
    <head>
        <meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
        <title>2.3 Configuration</title>
        <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" title="Ref" charset="utf-8"/>
    </head>
    <body class="body">
    There are a couple configuration options for the plugin:<p class="paragraph"/><table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">System property</strong></th><th><strong class="bold">Default value</strong></th><th><strong class="bold">Meaning</strong></th></tr><tr class="table-odd"><td>concordion.output.dir</td><td><code>target/test-reports/concordion</code></td><td>the folder where test reports are generated</td></tr><tr class="table-even"><td>concordion.extensions</td><td><code>org.concordion.ext.Extensions</code> (use the default configuration of each extension in the concordion-extensions project)</td><td>list of Concordion extensions and/or extension factories separated by commas</td></tr></table><p class="paragraph"/><h4>Concordion extensions</h4><p class="paragraph"/>The plugin also provides another way to configure extensions through application's configuration 
instead of the <code>concordion.extensions</code> system property. You can specify the list of extensions and/or extension factories to use with the following entries in <code>BuildConfig.groovy</code>:<p class="paragraph"/><div class="code"><pre>concordion.extensions = &#91; <span class="java&#45;quote">"Extension1"</span>, <span class="java&#45;quote">"Extension2"</span> &#93;
concordion.extensionFactories = &#91; <span class="java&#45;quote">"ExtensionFactory1"</span>, <span class="java&#45;quote">"ExtensionFactory2"</span> &#93;</pre></div><p class="paragraph"/><blockquote class="note">Note that you should provide fully qualified class names.</blockquote><p class="paragraph"/>If you want to configure the LoggingTooltipExtension or the ScreenshotExtension provided 
by the concordion-extensions project, the plugin includes configurable factories 
(<code>es.osoco.grails.plugins.concordion.extensions.ConfigurableLoggingTooltipExtensionFactory</code> 
and <code>es.osoco.grails.plugins.concordion.extensions.CongigurableScreenshotExtensionFactory</code>) to avoid
you have to implement your own factories and can configure the extensions through a simple DSL in
<code>BuildConfig</code>. For example:<p class="paragraph"/><div class="code"><pre>concordion.extensionFactories = &#91; 
  <span class="java&#45;quote">"es.osoco.grails.plugins.concordion.extensions.ConfigurableScreenshotExtensionFactory"</span>,
  <span class="java&#45;quote">"es.osoco.grails.plugins.concordion.extensions.ConfigurableLoggingTooltipExtensionFactory"</span> &#93;<p class="paragraph"/>concordion.screenshotExtensionFactoryConfiguration = &#123;
  screenshotOnThrowable <span class="java&#45;keyword">true</span>
  screenshotOnAssertionFailure <span class="java&#45;keyword">true</span>
  maxWidth 400
&#125;<p class="paragraph"/>concordion.loggingTooltipExtensionFactoryConfiguration = &#123;
  loggers <span class="java&#45;quote">"org.example.pomodoro.pages, selenium.events"</span>
  level Level.FINE
  showConsoleLogging <span class="java&#45;keyword">true</span>
&#125;</pre></div><p class="paragraph"/>The following table shows the configuration options available to configure the <code>ConfigurableScreenshotExtensionFactory</code>:<p class="paragraph"/><table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">Option</strong></th><th><strong class="bold">Default value</strong></th><th><strong class="bold">Meaning</strong></th></tr><tr class="table-odd"><td>screenshotOnAssertionFailure</td><td><code>true</code></td><td>Sets whether screenshots will be embedded in the output when assertions fail.</td></tr><tr class="table-even"><td>screenshotOnAssertionSuccess</td><td><code>false</code></td><td>Sets whether screenshots will be embedded in the output when assertions pass.</td></tr><tr class="table-odd"><td>screenshotOnThrowable</td><td><code>true</code></td><td>Sets whether screenshots will be embedded in the output when uncaught Throwables occur in the test.</td></tr><tr class="table-even"><td>maxWidth</td><td>Any</td><td>Sets the maximum width that will be used for display of the images in the output.</td></tr><tr class="table-odd"><td>screenshotTaker</td><td>Take a shot of the full visible screen.</td><td>Set a custom screenshot taker.</td></tr></table><p class="paragraph"/>
The following table shows the configuration options available to configure the <code>ConfigurableLoggingTooltipExtensionFactory</code>:<p class="paragraph"/><table class="wiki-table" cellpadding="0" cellspacing="0" border="0"><tr><th><strong class="bold">Option</strong></th><th><strong class="bold">Default value</strong></th><th><strong class="bold">Meaning</strong></th></tr><tr class="table-odd"><td>loggers</td><td>Empty string (indicates the root logger).</td><td>A comma separated list of the names of loggers whose output is to be shown in the Concordion output.</td></tr><tr class="table-even"><td>level</td><td><code>Level.INFO</code></td><td>the logging <code>java.util.logging.Level</code> for the handler that writes to the Concordion output. Log messages of this level and higher will be output.</td></tr><tr class="table-odd"><td>showConsoleLogging</td><td><code>false</code></td><td><code>false</code> to remove console output for the root logger, <code>true</code> to show the console output.</td></tr></table><p class="paragraph"/><p class="paragraph"/>
    </body>
</html>
